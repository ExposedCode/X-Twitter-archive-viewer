/*#######################################*/ 
/*    XTwitter offline archive viewer    */
/*              Version 1.9              */
/*                                       */
/*      Code Author : @ExposedCode       */
/*#######################################*/

window.YTD = {
  "profile" : { "part0" : [] },
  "account" : { "part0" : [] },
  "follower" : { "part0" : [] },
  "following" : { "part0" : [] },
  "like" : { "part0" : [] },
  "tweets" : { "part0" : [] },
  "retweets" : { "part0" : [] },
  "imgalt" : { "part0" : [] }
}
window.opt = {
  "enable_imgalt" : true,
  "orientation" : 0,
  "keywordHilite" : "#1DA1F2",
  "active_tab" : "tweets", 
  "profile_folder" : "data/profile_media",
  "data_folder" : "data/tweets_media",
  "avatar_logo" : "",
  "data_order" : "desc", // Default : desc
  "retweet_only" : false,
  "media_only" : false,
  "text_only" : false,
  "search_mode" : false,
  "displayPerPage" : 10,
  "iConnected" : window.navigator.onLine,
  "cache" : [],
  "stats" : {
    "total_data" : 0,
    "search" : {
      "tweets" : {
        "active" : false,
        "keyword" : null,
        "found" : 0
      },
      "replies" : {
        "active" : false,
        "keyword" : null,
        "found" : 0
      },
      "likes" : {
        "active" : false,
        "keyword" : null,
        "found" : 0
      }
    },
    "total_post" : 0,
    "total_replies" : 0,
    "total_retweet" : 0,
    "total_likes" : 0,
    "total_post_with_media" : 0,
    "total_post_text" : 0,
    "post_text" : 0,
    "post_with_media" : 0,
    "post_videos" : 0,
    "post_images" : 0,
    "retweet_text" : 0,
    "retweet_with_media" : 0,
    "retweet_videos" : 0,
    "retweet_images" : 0,
    "reply_text" : 0,
    "reply_with_media" : 0,
    "reply_videos" : 0,
    "reply_images" : 0
  }
}

var refresh=0;function InitiateButton(){$(".tab-content #nav-tweets #tweets-data").first().html(""),$(".nav.nav-tabs #nav-tweets-tab").tab("show"),$(".nav-tabs a").on("shown.bs.tab",(function(e){"Tweets"==$(this).html().trim()?window.opt.active_tab="tweets":"Replies"==$(this).html().trim()?(window.opt.active_tab="replies",0==$(".tab-content #nav-replies #replies-data").html().length&&preparePosts()):"Likes"==$(this).html().trim()&&(window.opt.active_tab="likes",0==$(".tab-content #nav-like #like-data").html().length&&preparePosts());e.target,e.relatedTarget})),$(".dropdown-menu a").click((function(){-1!==String($(this).html()).indexOf("fa-retweet")&&($(this).hasClass("dropdown-item-checked")?"tweets"==window.opt.active_tab&&(window.opt.retweet_only=!1,preparePosts(),$(this).removeClass("dropdown-item-checked")):"tweets"==window.opt.active_tab&&($(this).parent().parent().find(".fa-file-text-o").parent().hasClass("dropdown-item-checked")&&window.opt.text_only?(window.opt.retweet_only=!0,preparePosts(),$(this).addClass("dropdown-item-checked")):($(this).parent().parent().find(".fa-file-image-o").parent().hasClass("dropdown-item-checked")&&window.opt.media_only,window.opt.retweet_only=!0,preparePosts(),$(this).addClass("dropdown-item-checked")))),-1!==String($(this).html()).indexOf("fa-file-image-o")&&(window.opt.retweet_only||($(this).hasClass("dropdown-item-checked")?"tweets"!=window.opt.active_tab&&"replies"!=window.opt.active_tab||(window.opt.media_only=!1,preparePosts(),$(this).removeClass("dropdown-item-checked")):($(this).parent().parent().find(".fa-file-text-o").parent().hasClass("dropdown-item-checked")&&window.opt.text_only&&($(this).parent().parent().find(".fa-file-text-o").parent().removeClass("dropdown-item-checked"),window.opt.text_only=!1),window.opt.media_only=!0,preparePosts(),$(this).addClass("dropdown-item-checked"))),"tweets"==window.opt.active_tab&&window.opt.retweet_only&&($(this).hasClass("dropdown-item-checked")?(window.opt.media_only=!1,preparePosts(),$(this).removeClass("dropdown-item-checked")):window.opt.text_only?(window.opt.text_only=!1,$(this).parent().parent().find(".fa-file-text-o").parent().hasClass("dropdown-item-checked")&&$(this).parent().parent().find(".fa-file-text-o").parent().removeClass("dropdown-item-checked"),window.opt.media_only=!0,preparePosts(),$(this).addClass("dropdown-item-checked")):(window.opt.media_only=!0,preparePosts(),$(this).addClass("dropdown-item-checked")))),-1!==String($(this).html()).indexOf("fa-file-text-o")&&("tweets"==window.opt.active_tab?$(this).parent().parent().find(".fa-file-image-o").parent().hasClass("dropdown-item-checked")&&window.opt.media_only?(window.opt.media_only=!1,window.opt.text_only=!0,preparePosts(),$(this).parent().parent().find(".fa-file-image-o").parent().removeClass("dropdown-item-checked"),$(this).addClass("dropdown-item-checked")):$(this).hasClass("dropdown-item-checked")?(window.opt.text_only=!1,preparePosts(),$(this).removeClass("dropdown-item-checked")):(window.opt.text_only=!0,preparePosts(),$(this).addClass("dropdown-item-checked")):"replies"==window.opt.active_tab&&($(this).parent().parent().find(".fa-file-image-o").parent().hasClass("dropdown-item-checked")&&window.opt.media_only?(window.opt.media_only=!1,window.opt.text_only=!0,preparePosts(),$(this).parent().parent().find(".fa-file-image-o").parent().removeClass("dropdown-item-checked"),$(this).addClass("dropdown-item-checked")):(window.opt.text_only=!0,preparePosts(),$(this).addClass("dropdown-item-checked")))),-1!==String($(this).html()).indexOf("fa-sort-numeric")&&(-1!==String($(this).html()).indexOf("fa-sort-numeric-desc")?($(this).html('<i class="fa fa-sort-numeric-asc"></i>Show Oldest First'),window.opt.data_order="desc",preparePosts()):($(this).html('<i class="fa fa-sort-numeric-desc"></i>Show Newest First'),window.opt.data_order="asc",preparePosts())),-1!==String($(this).html()).indexOf("fa-refresh")&&resetMenuState(!0),-1!==String($(this).html()).indexOf("fa-search")?showDialog("","input","Search Tweets"):-1!==String($(this).html()).indexOf("fa-gears")&&showDialog($(".tabular").html(),"settings","Settings")}))}function resetMenuState(e=!1){window.opt.data_order="desc",window.opt.retweet_only=!1,window.opt.media_only=!1,window.opt.text_only=!1,window.opt.stats.search.tweets.keyword=null,window.opt.stats.search.tweets.found=0,window.opt.stats.search.tweets.active=!1,window.opt.stats.search.replies.keyword=null,window.opt.stats.search.replies.found=0,window.opt.stats.search.replies.active=!1,window.opt.stats.search.likes.keyword=null,window.opt.stats.search.likes.found=0,window.opt.stats.search.likes.active=!1,window.opt.search_mode=!1,$(".dropdown-menu a").parent().parent().find(".fa-retweet").parent().hasClass("dropdown-item-checked")&&$(".dropdown-menu a").parent().parent().find(".fa-retweet").parent().removeClass("dropdown-item-checked"),$(".dropdown-menu a").parent().parent().find(".fa-file-image-o").parent().hasClass("dropdown-item-checked")&&$(".dropdown-menu a").parent().parent().find(".fa-file-image-o").parent().removeClass("dropdown-item-checked"),$(".dropdown-menu a").parent().parent().find(".fa-file-text-o").parent().hasClass("dropdown-item-checked")&&$(".dropdown-menu a").parent().parent().find(".fa-file-text-o").parent().removeClass("dropdown-item-checked"),e&&preparePosts()}function startLoader(){void 0===$(".app-loader").html()&&($(document.body).append('<div class="app-loader" style="height:100vmax;width:100%;position:fixed;top:0px;left:0px;background-color:#fff;z-index:5;overflow-x:none;overflow-y:none"><center style="position:relative;margin:0;top:50%;transform:translateY(-50%);-ms-transform:translateY(-50%)"><i class="fa fa-twitter" style="font-size:70px;color:#1DA1F2"></i></center></div><div class="image-viewer"><img src=""></div>'),dir=window.opt.data_folder.split("/"),loadJS(dir[0]+"/imgalt.js"),loadJS(dir[0]+"/retweet.js"))}function FileExists(e,t=null,i=null,a=-1,s=0){if(fileType=e.toLowerCase().split("."),imgType=["jpg","jpeg","png","gif","webp"],vdoType=["mpg","mpeg","mp4"],imgType.indexOf(fileType[fileType.length-1])>-1){let a=document.createElement("img");a.setAttribute("src",e),a.setAttribute("width","400px"),a.setAttribute("height","300px"),document.body.appendChild(a),a.addEventListener("error",(()=>{document.body.removeChild(a)&&i(!1,null,null)})),a.addEventListener("load",(()=>{document.body.removeChild(a)&&i(!0,null!==t?t:null,e)}))}else if(vdoType.indexOf(fileType[fileType.length-1])>-1){let o=document.createElement("video");o.setAttribute("src",e),document.body.appendChild(o),o.addEventListener("error",(()=>{document.body.removeChild(o)&&i(!1,null,null)})),o.addEventListener("loadeddata",(()=>{document.body.removeChild(o)&&i(!0,t,e,a,s)}))}}function loadJS(e,t=null,i=!0){unloadJS(e);let a=document.createElement("script");a.setAttribute("id",CryptoJS.MD5(e).toString()),a.setAttribute("src",e),a.setAttribute("type","text/javascript"),a.setAttribute("async",i),document.body.appendChild(a),a.addEventListener("load",(()=>{null!=t&&t(!0)})),a.addEventListener("error",(e=>{null!=t&&t(!1,e)}))}function unloadJS(e){$("script[id^='"+CryptoJS.MD5(e).toString()+"']").remove(),e.indexOf("tweets.js")>0?(delete window.YTD.tweets.part0,window.YTD.tweets.part0=[],"tweets"==window.opt.active_tab&&(window.opt.tweets=[]),"replies"==window.opt.active_tab&&(window.opt.replies=[])):e.indexOf("like.js")>0&&(delete window.YTD.like.part0,window.YTD.like.part0=[])}function showDialog(e="",t="dialog",i="Information"){"dialog"==t?$('<div id="dialog-box" title="'+i+'"><p>'+e+"</p></div>").dialog({modal:!0,buttons:{btnCancel:{click:function(){$(this).dialog("close")},text:"Close",class:"btn-dialog"}}}):"input"==t?(text='<div class="form-group"><label for="inputSearch">Search :</label><input type="text" class="form-control is-valid" id="inputSearch" aria-describedby="clueHelp" placeholder="Keyword..."></div>',$('<div id="dialog-box" title="'+i+'"><p>'+text+"</p></div>").dialog({modal:!0,buttons:{btnCancel:{click:function(){$(this).dialog("close")},text:"Cancel",class:"btn-dialog"},btnSearch:{click:function(){"tweets"==window.opt.active_tab&&$(this).find("input").val().length>0&&(window.opt.stats.search.tweets.keyword=$(this).find("input").val(),window.opt.stats.search.tweets.active=!0),"replies"==window.opt.active_tab&&$(this).find("input").val().length>0&&(window.opt.stats.search.replies.keyword=$(this).find("input").val(),window.opt.stats.search.replies.active=!0),"likes"==window.opt.active_tab&&$(this).find("input").val().length>0&&(window.opt.stats.search.likes.keyword=$(this).find("input").val(),window.opt.stats.search.likes.active=!0),$(this).find("input").val().length>0?(window.opt.search_mode=!0,$(this).dialog("close"),preparePosts()):$(this).find("input").focus()},text:"Search",class:"btn-dialog"}}})):"settings"==t?($(" "+e).find("span").each((function(){id=$(this).attr("id"),txt=$(this).text(),"total-records"==id&&(temp=e.replace($(this).parent().html(),'Total records (<i>tweets.js</i>) : <span id="total-records">'+window.opt.stats.total_data+" records</span>")),"total-posts"==id&&(temp=temp.replace($(this).parent().html(),'Total tweet posts : <span id="total-posts">'+window.opt.stats.total_post+" records</span>")),"total-retweets"==id&&(temp=temp.replace($(this).parent().html(),'Total retweets : <span id="total-retweets">'+window.opt.stats.total_retweet+" records</span>")),"total-replies"==id&&(temp=temp.replace($(this).parent().html(),'Total replies : <span id="total-replies">'+window.opt.stats.total_replies+" records</span>")),"total-likes"==id&&(temp=temp.replace($(this).parent().html(),'Total likes (<i>like.js</i>) : <span id="total-likes">'+window.opt.stats.total_likes+" records</span>"))})),$(" "+temp).children().each((function(){$($(this).html()).find("input").each((function(){"hilite"==$(this).attr("id")?(prev=$(this).parent().html(),$(this).attr("value",window.opt.keywordHilite),temp=temp.replace(prev,$(this).parent().html())):"data-folder"==$(this).attr("id")&&(folder=window.opt.data_folder.split("/"),prev=$(this).parent().html(),$(this).attr("value",folder[0].length>0?"/"+folder[0]+"/":"/"+folder[1]+"/"),temp=temp.replace(prev,$(this).parent().html()))})),$($(this).html()).find("select").each((function(){prev=$(this).parent().html();for(var e=0;e<$(this).children().length;e++)$(this).children().eq(e).attr("value")==window.opt.displayPerPage&&(val=$(this).children().eq(e).val(),$(this).children().eq(e).attr("selected","selected"));temp=temp.replace(prev,$(this).parent().html())}))})),$('<div id="dialog-box" title="'+i+'"><p>'+temp+"</p></div>").dialog({modal:!0,buttons:{btnCancel:{click:function(){$(this).find('input[id="hilite"]').val().length>0&&7==String($(this).find('input[id="hilite"]').val().match(/\#([A-Fa-f0-9]+)/g)).length&&7==$(this).find('input[id="hilite"]').val().length?window.opt.keywordHilite=$(this).find('input[id="hilite"]').val():$(this).find('input[id="hilite"]').focus(),$(this).find('input[id="data-folder"]').val().length>3?"/"==$(this).find('input[id="data-folder"]').val().substring(0,1)?(folder=$(this).find('input[id="data-folder"]').val().split("/"),loadJS(folder[1]+"/profile.js",(function(e){e?(window.opt.profile_folder=folder[1]+"/profile_media/",window.opt.data_folder=folder[1]+"/tweets_media/",loadJS(folder[1]+"/manifest.js",(function(e){if(!e)return alert('Required file "'+folder[1]+'/manifest.js" not found'),void $(this).find('input[id="data-folder"]').focus();resetMenuState()}))):(alert("Folder not found !!!"),$(this).find('input[id="data-folder"]').focus())}))):(folder=$(this).find('input[id="data-folder"]').val().split("/"),loadJS(folder[0]+"/profile.js",(function(e){e?(window.opt.profile_folder=folder[0]+"/profile_media/",window.opt.data_folder=folder[0]+"/tweets_media/",loadJS(folder[0]+"/manifest.js",(function(e){if(!e)return alert('Required file "'+folder[0]+'/manifest.js" not found'),void $(this).find('input[id="data-folder"]').focus();resetMenuState()}))):(alert("Folder not found !!!"),$(this).find('input[id="data-folder"]').focus())}))):$(this).find('input[id="data-folder"]').focus(),window.opt.displayPerPage=$(this).find('select[id="viewPerPage"]').val(),$(this).dialog("close")},text:"Close",class:"btn-dialog"}},height:490,width:350}).tabs()):"source"==t?$('<div id="dialog-box" title="HTML Source"><p><textarea style="width:310px;height:350px">'+e+"</textarea></p></div>").dialog({modal:!0,buttons:{btnCancel:{click:function(){$(this).dialog("close")},text:"Close",class:"btn-dialog"}},height:490,width:350}):alert("😣 Unknown dialog type !!!")}function setMenu(e){void 0!==$(e).parent().attr("screenName")?window.open("https://twitter.com/"+$(e).parent().attr("screenName")+"/status/"+$(e).attr("id").substring(0,$(e).attr("id").length)):showDialog("Twitter Post ID : "+$(e).parent().attr("id").substring(0,$(e).parent().attr("id").length-1))}function isMobile(){return/Mobi|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function setPagination(e=1){if(template='<nav><ul class="pagination">',scrolls="",records=0,"tweets"==window.opt.active_tab?window.opt.retweet_only||window.opt.media_only?window.opt.media_only?window.opt.retweet_only?window.opt.search_mode?records=window.opt.stats.search.tweets.found:records=window.opt.stats.retweet_with_media:window.opt.search_mode?records=window.opt.stats.search.tweets.found:records=window.opt.stats.total_post_with_media:window.opt.retweet_only&&(window.opt.text_only?window.opt.search_mode?records=window.opt.stats.search.tweets.found:records=window.opt.stats.retweet_text:window.opt.stats.search.tweets.found>0?records=window.opt.stats.search.tweets.found:records=window.opt.stats.total_retweet):window.opt.text_only?window.opt.search_mode&&window.opt.stats.search.tweets.active?records=window.opt.stats.search.tweets.found:records=window.opt.stats.post_text+window.opt.stats.retweet_text:window.opt.search_mode&&window.opt.stats.search.tweets.active?records=window.opt.stats.search.tweets.found:records=window.opt.stats.total_post+window.opt.stats.total_retweet:"replies"==window.opt.active_tab?window.opt.media_only?window.opt.search_mode?records=window.opt.stats.search.replies.found:records=window.opt.stats.reply_with_media:window.opt.text_only?window.opt.search_mode&&window.opt.stats.search.replies.found>0?records=window.opt.stats.search.replies.found:records=window.opt.stats.reply_text:window.opt.search_mode&&window.opt.stats.search.replies.found>0?records=window.opt.stats.search.replies.found:records=window.opt.stats.total_replies:"likes"==window.opt.active_tab&&(window.opt.search_mode&&window.opt.stats.search.likes.found>0?records=window.opt.stats.search.likes.found:records=window.opt.stats.total_likes),"undefined"!=typeof records){if(loop=Math.ceil(records/window.opt.displayPerPage),loop>5)for(c=0;c<loop;c++)c<5?(template+='<li class="page-item"><a class="page-link'+(c==e-1?" disabled":"")+'" onclick="javascript:preparePosts('+(c+1)+')">'+(c+1)+"</a></li>",scrolls+='<li><a class="dropdown-item'+(c==e-1?" disabled":"")+'" href="javascript:preparePosts('+(c+1)+')">'+(c+1)+"</a></li>"):(5==c&&loop>5&&(template+='<li id="pagination-pages" class="page-item dropup"><a class="page-link fa fa-angle-double-right" data-bs-toggle="dropdown" role="button" aria-expanded="false" style="font-size:24px">&nbsp;</a><ul class="dropdown-menu scroll-menu dropdown-menu-end" style="bottom: 0; left: auto;">'),scrolls+='<li><a class="dropdown-item'+(c==e-1?" disabled":"")+'" href="javascript:preparePosts('+(c+1)+')">'+(c+1)+"</a></li>");else if(loop<=5){for(n=0;n<5;n++)n<loop&&n!=e-1?template+='<li class="page-item"><a class="page-link" onclick="javascript:preparePosts('+(n+1)+')">'+(n+1)+"</a></li>":template+='<li class="page-item disabled"><a class="page-link">'+(n+1)+"</a></li>";template+='<li class="page-item dropup disabled"><a class="page-link fa fa-angle-double-right" style="font-size:24px">&nbsp;</a></li>'}end="</ul></li></ul></nav>","tweets"==window.opt.active_tab?($(".tab-content #nav-tweets .paging-bottom").empty(),$(".tab-content #nav-tweets .paging-bottom").append(template+scrolls+end)):"replies"==window.opt.active_tab?($(".tab-content #nav-replies .paging-bottom").empty(),$(".tab-content #nav-replies .paging-bottom").append(template+scrolls+end)):"likes"==window.opt.active_tab&&($(".tab-content #nav-like .paging-bottom").empty(),$(".tab-content #nav-like .paging-bottom").append(template+scrolls+end))}}function updateHashtagUser(e,i){if(e.length>0){if(usrReg=/(\@[A-Za-z0-9\_\-]+)/g,t=e.match(usrReg),null!=t&&t.length>0&&(word=String(t[t.length-1]),end=e.indexOf(word),e=e.replace(word+" ",e.substring(end,end+word.length)+"\n")),(e=e.replace(/(<img\s[^>]*>|<a(?:\s[^>]*)?>[\s\S]*?<\/a>)|(?:(?:#?|@?"))(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[\•\✓\√\"A-Z0-9+&@#\/%=~_|$])/gi,(function(i,a){return void 0===a?(hashes=/(\#[A-Za-z0-9\_\-]+)/g,null!=i.match(hashes)&&(i=String('<a target="_blank" href="https://twitter.com/search?q='+escape("#")+i.substring(1,i.length)+'&src=typed_query">'+i+"</a>")),("@"==e.substring(0,1)||"RT @"==e.substring(0,4))&&null!==t&&"@"==i.substring(0,1)&&i.length>1?i.replace(i,'<a target="_blank" href="https://twitter.com/'+i.substring(1,i.length)+'">'+i+"</a>"):"tweets"==window.opt.active_tab&&null!=window.opt.stats.search.tweets.keyword&&i.toLowerCase().includes(window.opt.stats.search.tweets.keyword.toLowerCase())?(rep=new RegExp(window.opt.stats.search.tweets.keyword,"gi"),i.replace(rep,'<b><i style="color: '+window.opt.keywordHilite+'">'+window.opt.stats.search.tweets.keyword+"</i></b>")):"replies"==window.opt.active_tab&&null!=window.opt.stats.search.replies.keyword&&i.toLowerCase().includes(window.opt.stats.search.replies.keyword.toLowerCase())?(rep=new RegExp(window.opt.stats.search.replies.keyword,"gi"),i.replace(rep,'<b><i style="color: '+window.opt.keywordHilite+'">'+window.opt.stats.search.replies.keyword+"</i></b>")):"likes"==window.opt.active_tab&&null!=window.opt.stats.search.likes.keyword&&i.toLowerCase().includes(window.opt.stats.search.likes.keyword.toLowerCase())?(rep=new RegExp(window.opt.stats.search.likes.keyword,"gi"),i.replace(rep,'<b><i style="color: '+window.opt.keywordHilite+'">'+window.opt.stats.search.likes.keyword+"</i></b>")):i):i}))).length>0)return e}}function updateLinks(e){let t=void 0!==e.tweet.full_text?e.tweet.full_text:"";return t.length>0&&(void 0!==e.tweet.entities.urls&&(e.tweet.entities.urls.forEach((e=>{t=t.replace(e.url,'<a target="_blank" href="'+e.expanded_url+'">'+e.display_url+"</a>")})),t.length>0)?t:void 0)}function updateMedia(e,i,a=-1){if(e.length>0){if(void 0!==i.tweet.extended_entities){for(var s="",o=[],n=0;n<i.tweet.extended_entities.media.length;n++)if("video"==i.tweet.extended_entities.media[n].type||"animated_gif"==i.tweet.extended_entities.media[n].type){refresh++,"object"==typeof i.tweet.extended_entities&&i.tweet.extended_entities.media.filter((e=>"video"==e.type||"animated_gif"==e.type)).length>0?wVdoflag="_with-vdo":wVdoflag="",0==n&&(i.tweet.extended_entities.media.length>1&&2==i.tweet.extended_entities.media.length&&(s='<div class="double_img-prev'+wVdoflag+'">'),i.tweet.extended_entities.media.length>1&&3==i.tweet.extended_entities.media.length&&(s='<div class="triple_img-prev'+wVdoflag+'">'),i.tweet.extended_entities.media.length>1&&4==i.tweet.extended_entities.media.length&&(s='<div class="forth_img-prev'+wVdoflag+'">'));for(var d=0;d<i.tweet.extended_entities.media[n].video_info.variants.length;d++){ext=i.tweet.extended_entities.media[n].video_info.variants[d].content_type.split("/");var l=String(i.tweet.extended_entities.media[n].video_info.variants[d].url).slice(String(i.tweet.extended_entities.media[n].video_info.variants[d].url).lastIndexOf("/")+1,String(i.tweet.extended_entities.media[n].video_info.variants[d].url).indexOf(ext[1])+ext[1].length),r=l.length>0?window.opt.data_folder+i.tweet.id+"-"+l:"";r.trim().length>0&&FileExists(r,i.tweet,(function(e,i,a,s,n){orient=navigator.maxTouchPoints?window.screen.orientation.angle?"landscape":"portrait":"desktop",altmsg="",e&&(vh=i.extended_entities.media[n].sizes.small.h,vw=i.extended_entities.media[n].sizes.small.w,vw>vh?altgifCls=vdoTypeClass="-horizontal":vh==vw?altgifCls=vdoTypeClass="-equal":vh>vw&&(altgifCls=vdoTypeClass="-vertical"),2==i.extended_entities.media.length&&(0==n&&(vdoTypeClass+=altmsg="_double_1st"),1==n&&(vdoTypeClass+=altmsg="_double_2nd")),3==i.extended_entities.media.length&&(0==n&&(vdoTypeClass+=altmsg="_triple_1st"),1==n&&(vdoTypeClass+=altmsg="_triple_2nd"),2==n&&(vdoTypeClass+=altmsg="_triple_3rd")),4==i.extended_entities.media.length&&(0==n&&(vdoTypeClass+=altmsg="_forth_1st"),1==n&&(vdoTypeClass+=altmsg="_forth_2nd"),2==n&&(vdoTypeClass+=altmsg="_forth_3rd"),3==n&&(vdoTypeClass+=altmsg="_forth_4th")),i.extended_entities.media.length>0&&(1==i.extended_entities.media.length&&(className="single_img-prev"),vdo='<video class="vdo_tag'+vdoTypeClass+'" '+("animated_gif"==i.extended_entities.media[n].type?' type="gif" autoplay loop muted':'type="mp4" controls')+'><source src="'+a+'">Your browser does not support video</video>',2==i.extended_entities.media.length?className="double_img-prev_with-vdo":3==i.extended_entities.media.length?className="triple_img-prev_with-vdo":4==i.extended_entities.media.length&&(className="forth_img-prev_with-vdo"),vdo='<video class="vdo_tag'+vdoTypeClass+'" '+("animated_gif"==i.extended_entities.media[n].type?' type="gif" previewable="true" autoplay loop muted':'type="mp4" controls')+'><source src="'+a+'">Your browser does not support video</video>'),"animated_gif"==i.extended_entities.media[n].type&&(1==i.extended_entities.media.length&&(vdo+='<div class="alt-gif'+altgifCls+'">GIF</div>'),2==i.extended_entities.media.length&&(vdo+='<div class="alt-gif'+(1==n?"_double-2nd":"_double-1st")+'">GIF</div>'),3==i.extended_entities.media.length&&(vdo+='<div class="alt-gif'+(1==n?"_triple-2nd":2==n?"_triple-3rd":"_triple-1st")+'">GIF</div>'),4==i.extended_entities.media.length&&(vdo+='<div class="alt-gif'+(1==n?"_forth-2nd":2==n?"_forth-3rd":3==n?"_forth-4th":"_forth-1st")+'">GIF</div>'),1==window.opt.enable_imgalt&&void 0!==window.YTD.imgalt.part0&&window.YTD.imgalt.part0.length>0&&window.YTD.imgalt.part0.filter((e=>e.tweet.id==i.id)).length>0&&(o=1==window.YTD.imgalt.part0.filter((e=>e.tweet.id==i.id)).length&&void 0!==window.YTD.imgalt.part0.filter((e=>e.tweet.id==i.id))[0].tweet.description[n]?window.YTD.imgalt.part0.filter((e=>e.tweet.id==i.id))[0].tweet.description[n].full_text:"").length>0&&(urlRegex=/(https?:\/\/[^\s]+)/g,null!==o.match(urlRegex)&&(t=o.match(urlRegex),t.length>0&&t.forEach((e=>{o=o.replace(e,'<a target="_blank" class="default-link" href="'+e+'">'+e.substring(0,40)+(e.length>40?"...":"")+"</a>").replace(/(\r\n|\r|\n)/g,"<br/>")}))),style=altmsg.replaceAll("_","-")+"_with-vdo",vdo+='<div index="'+n+'" class="alt-gif'+style+'">ALT<span id="alt-txt">'+o+"</span></div>")),i.extended_entities.media.length>1?("tweets"==window.opt.active_tab?$(".tab-content #nav-tweets #tweets-data").children("div").eq(s).find("p").children(":first").html($(".tab-content #nav-tweets #tweets-data").children("div").eq(s).find("p").children(":first").html().replace(i.extended_entities.media[n].url,window.opt.cache.filter((e=>e.id==i.id))[0].content.replace("\x3c!--template--\x3e",vdo))):"replies"==window.opt.active_tab&&($(".tab-content #nav-replies #replies-data").children("div").eq(s).find("p").children(":first").html($(".tab-content #nav-replies #replies-data").children("div").eq(s).find("p").children(":first").html().replace(i.extended_entities.media[n].url,window.opt.cache.filter((e=>e.id==i.id))[0].content.replace("\x3c!--template--\x3e",vdo))),window.opt.cache=window.opt.cache.filter((e=>e.id!=i.id))),setImgPrev()):"tweets"==window.opt.active_tab?$(".tab-content #nav-tweets #tweets-data").children("div").eq(s).find("p").children(":first").html($(".tab-content #nav-tweets #tweets-data").children("div").eq(s).find("p").children(":first").html().replace(i.extended_entities.media[n].url,'<div class="single_img-prev_vdo">'+vdo+"</div>")):"replies"==window.opt.active_tab&&$(".tab-content #nav-replies #replies-data").children("div").eq(s).find("p").children(":first").html($(".tab-content #nav-replies #replies-data").children("div").eq(s).find("p").children(":first").html().replace(i.extended_entities.media[n].url,'<div class="single_img-prev_vdo">'+vdo+"</div>")))}),a,n)}}else"photo"==i.tweet.extended_entities.media[n].type&&void 0!==i.tweet.entities.media&&(imgFname=window.opt.data_folder+i.tweet.id+"-"+i.tweet.extended_entities.media[n].media_url.substring(i.tweet.extended_entities.media[n].media_url.lastIndexOf("/")+1),1==window.opt.enable_imgalt&&void 0!==window.YTD.imgalt.part0&&window.YTD.imgalt.part0.length>0&&window.YTD.imgalt.part0.filter((e=>e.tweet.id==i.tweet.id)).forEach((e=>{for(1==i.tweet.extended_entities.media.length&&(mode=""),wvid="",i.tweet.extended_entities.media.filter((e=>"video"==e.type||"animated_gif"==e.type)).length>0&&(wvid="_with-vdo"),2==i.tweet.extended_entities.media.length&&(mode="-double-"+(0==n?"1st"+wvid:"2nd"+wvid)),3==i.tweet.extended_entities.media.length&&(mode="-triple-"+(0==n?"1st"+wvid:1==n?"2nd"+wvid:"3rd"+wvid)),4==i.tweet.extended_entities.media.length&&(mode="-forth-"+(0==n?"1st"+wvid:1==n?"2nd"+wvid:2==n?"3rd"+wvid:"4th"+wvid)),k=0;k<e.tweet.description.length;k++)i.tweet.extended_entities.media[n].media_url.substring(i.tweet.extended_entities.media[n].media_url.lastIndexOf("/")+1)===e.tweet.description[k].media_url.substring(e.tweet.description[k].media_url.lastIndexOf("/")+1)&&(urlRegex=/(https?:\/\/[^\s]+)/g,temps=e.tweet.description[k].full_text,null!==temps.match(urlRegex)&&(t=temps.match(urlRegex),t.length>0&&t.forEach((e=>{temps=temps.replace(e,'<a target="_blank" class="default-link" href="'+e+'">'+e.substring(0,40)+(e.length>40?"...":"")+"</a>").replace(/(\r\n|\r|\n)/g,"<br/>")}))),void 0!==e.tweet.description[k].index&&n==e.tweet.description[k].index&&(o[e.tweet.description[k].index]='<div index="'+e.tweet.description[k].index+'" class="alt-left'+mode+'">ALT<span id="alt-txt">'+temps+"</span></div>"),void 0===e.tweet.description[k].index&&(o[o.length]='<div class="alt-left">ALT<span id="alt-txt">'+temps+"</span></div>"))})),1==i.tweet.extended_entities.media.length?s+='<div class="single_img-prev"><img id="img-prev_single" src="'+imgFname+'"/>':2==i.tweet.extended_entities.media.length?(i.tweet.extended_entities.media.filter((e=>"video"==e.type||"animated_gif"==e.type)).length>0&&(idName="_with-vdo"),s+=0==n?'<div class="double_img-prev"><img class="img-prev_double-1st'+("undefined"!=typeof idName?idName:"")+'" src="'+imgFname+'"/>':'<img class="img-prev_double-2nd'+("undefined"!=typeof idName?idName:"")+'" src="'+imgFname+'"/>'):3==i.tweet.extended_entities.media.length?(i.tweet.extended_entities.media.filter((e=>"video"==e.type||"animated_gif"==e.type)).length>0&&(idName="_with-vdo"),s+=0==n?'<div class="triple_img-prev'+("undefined"!=typeof idName?idName:"")+'"><img class="img-prev_triple-1st'+("undefined"!=typeof idName?idName:"")+'" src="'+imgFname+'"/>':1==n?'<img class="img-prev_triple-2nd'+("undefined"!=typeof idName?idName:"")+'" src="'+imgFname+'"/>':'<img class="img-prev_triple-3rd'+("undefined"!=typeof idName?idName:"")+'" src="'+imgFname+'"/>'):4==i.tweet.extended_entities.media.length&&(i.tweet.extended_entities.media.filter((e=>"video"==e.type||"animated_gif"==e.type)).length>0&&(idName="_with-vdo"),0==n?s+='<div class="forth_img-prev"><img class="img-prev_forth-1st'+("undefined"!=typeof idName?idName:"")+'" src="'+imgFname+'"/>':1==n?s+='<img class="img-prev_forth-2nd'+("undefined"!=typeof idName?idName:"")+'" src="'+imgFname+'"/>':2==n?s+='<img class="img-prev_forth-3rd'+("undefined"!=typeof idName?idName:"")+'" src="'+imgFname+'"/>':3==n&&(s+='<img class="img-prev_forth-4th'+("undefined"!=typeof idName?idName:"")+'" src="'+imgFname+'"/>')));void 0!==s&&s.length>0&&("undefined"==typeof idName?e=e.replace(i.tweet.entities.media[0].url,s+o.join("")+(i.tweet.extended_entities.media.length>2?'<div class="clearfix"></div></div>':"</div>")).replace(/(\r\n|\r|\n)/g,"<br/>"):0==window.opt.cache.filter((e=>e.id==i.tweet.id)).length&&window.opt.cache.push({id:i.tweet.id,content:s+"\x3c!--template--\x3e"+o.join("").replace(/(\r\n|\r|\n)/g,"<br/>")+(i.tweet.extended_entities.media.length>2?'<div class="clearfix"></div></div>':"</div>")}),delete s,delete o,delete idName)}return e}}function appendPosts(e,t){if(e.length>0&&void 0!==t.tweet)return dates=t.tweet.created_at.split(" "),realDate=new Date(Date.parse(dates[1]+" "+dates[2]+", "+dates[5]+" "+dates[3])),template="",displayName="RT @"==t.tweet.full_text.substring(0,4)?window.matchMedia("(max-width: 767px)").matches&&t.tweet.entities.user_mentions[0].name.length>12?t.tweet.entities.user_mentions[0].name.substring(0,12)+"...":t.tweet.entities.user_mentions[0].name.length>0?t.tweet.entities.user_mentions[0].name:t.tweet.entities.user_mentions[0].screen_name:window.matchMedia("(max-width: 767px)").matches&&window.__THAR_CONFIG.userInfo.displayName.length>12?window.__THAR_CONFIG.userInfo.displayName.substring(0,12)+"...":window.__THAR_CONFIG.userInfo.displayName,displayUserName="RT @"==t.tweet.full_text.substring(0,4)?window.matchMedia("(max-width: 380px)").matches&&t.tweet.entities.user_mentions[0].screen_name.length>5?t.tweet.entities.user_mentions[0].screen_name.substring(0,4)+"...":t.tweet.entities.user_mentions[0].screen_name:window.matchMedia("(max-width: 380px)").matches&&window.__THAR_CONFIG.userInfo.userName.length>5?window.__THAR_CONFIG.userInfo.userName.substring(0,4)+"...":window.__THAR_CONFIG.userInfo.userName,children=window.YTD.tweets.part0.filter((e=>e.tweet.in_reply_to_status_id==t.tweet.id)),template+='<div id="row_'+t.tweet.id+'" class="tweet-post"><div class="col-lg-6 px-0">'+("RT"==t.tweet.full_text.substring(0,2)?'<div class="retweeted"><i class="fa fa-retweet status"></i><span>Retweeted from '+(void 0!==t.tweet.entities.user_mentions[0].name&&t.tweet.entities.user_mentions[0].name.length>0?t.tweet.entities.user_mentions[0].name:t.tweet.entities.user_mentions[0].screen_name)+"</span></div>":"")+'<div class="tweet-post-avatar"><img id="avatar-post-logo" width="44px" height="44px" src="'+window.opt.avatar_logo+'"></div><div class="tweet-connector'+(t.tweet.in_reply_to_status_id,' standalone"'),template+='><div class="tweet-post-acc"><span style="font-weight:bold; margin-right:10px">'+displayName+'</span><span class="common-text greyed-text">@'+displayUserName+" • "+realDate.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"})+'</span></div><p class="common-text tweet-post-content"><span class="main-content">'+e.replace(/(\r\n|\r|\n)/g,"<br/>"),template+='</span></p><p class="tweet-post-action common-text"><ul class="post-action-btn"><li><a class="fa fa-comment-o"><span>'+("undefined"!=typeof children?children.length:"0")+'</span></a></li><li><a class="fa fa-retweet"><span>'+(t.tweet.retweet_count>999?t.tweet.retweet_count/1e3+"K":t.tweet.retweet_count)+'</span></a></li><li><a class="fa '+(t.tweet.favorite_count>0?"fa-heart":"fa-heart-o")+'"><span>'+(t.tweet.favorite_count>999?t.tweet.favorite_count/1e3+"K":t.tweet.favorite_count)+'</span></a></li><li class="dropdown action-btn-last"><a data-bs-toggle="dropdown" role="link" aria-expanded="false" class="fa fa-share-alt"></a><div class="dropdown-menu dropdown-menu-end"><div id="'+(void 0!==t.tweet.id?t.tweet.id:"")+'a" screenName="'+(t.tweet.entities.user_mentions.length>0?t.tweet.entities.user_mentions[0].screen_name:window.__THAR_CONFIG.userInfo.userName)+'"><a id="'+(void 0!==t.tweet.id?t.tweet.id:"")+'" class="dropdown-item" onclick="javascript:setMenu(this)"><i class="fa fa-link"></i>Open On Twitter</a></div><div id="'+(void 0!==t.tweet.id?t.tweet.id:"")+'c"><a class="dropdown-item" onclick="javascript:setMenu(this)"><i class="fa fa-info-circle"></i>Show Tweet Id</a></div></div></li></ul></p></div></div><div class="clearfix"></div></div>',template}function setImgPrev(){$("img#img-prev_single").click((function(){$(".image-viewer").css("background-image","url("+$(this).attr("src")+")"),$(".image-viewer").css("visibility","visible")})),$(".image-viewer").on("click",(function(){$(".image-viewer").css("visibility","hidden"),$(this).html().indexOf("<video")>-1?$(this).html('<img src=""/>'):($(this).css("background-image",""),$(this).css("background-color","#0f0f0e"))})),$(".double_img-prev img").click((function(){$(".image-viewer").css("background-image","url("+$(this).attr("src")+")"),$(".image-viewer").css("visibility","visible")})),$(".triple_img-prev img").click((function(){$(".image-viewer").css("background-image","url("+$(this).attr("src")+")"),$(".image-viewer").css("visibility","visible")})),$(".double_img-prev_with-vdo img").click((function(){$(".image-viewer").css("background-image","url("+$(this).attr("src")+")"),$(".image-viewer").css("visibility","visible")})),$(".triple_img-prev_with-vdo img").click((function(){$(".image-viewer").css("background-image","url("+$(this).attr("src")+")"),$(".image-viewer").css("visibility","visible")})),$(".forth_img-prev_with-vdo img").click((function(){$(".image-viewer").css("background-image","url("+$(this).attr("src")+")"),$(".image-viewer").css("visibility","visible")})),$(".forth_img-prev img").click((function(){$(".image-viewer").css("background-image","url("+$(this).attr("src")+")"),$(".image-viewer").css("visibility","visible")})),$("div[class|=alt-left]").on("click",(function(){txt=$($(this).html().replace("ALT","")).html(),$(".imgdesc .imgdescription").html(txt),isMobile()?$(".imgdesc").show().css({visibility:"visible",opacity:0,bottom:"-100px"}).animate({opacity:"1",bottom:0},800):0==window.opt.orientation?$(".imgdesc").show().css({visibility:"visible",height:"600px",opacity:.3}).animate({opacity:"1"},800):90==window.opt.orientation&&$(".imgdesc").show().css({visibility:"visible",height:"380px",opacity:.3}).animate({opacity:"1"},800)})),$("div[class|=alt-gif]").on("click",(function(){txt=$($(this).html().replace("ALT","")).html(),$(".imgdesc .imgdescription").html(txt),isMobile()?$(".imgdesc").show().css({visibility:"visible",opacity:0,bottom:"-100px"}).animate({opacity:"1",bottom:0},800):0==window.opt.orientation?$(".imgdesc").show().css({visibility:"visible",height:"600px",opacity:.3}).animate({opacity:"1"},800):90==window.opt.orientation&&$(".imgdesc").show().css({visibility:"visible",height:"380px",opacity:.3}).animate({opacity:"1"},800)})),$(".btnplate button").click((function(){$(".imgdesc").css("visibility","hidden")})),$("video[class^=vdo_tag]").click((function(){"gif"==$(this).attr("type")&&1==Boolean($(this).attr("previewable"))&&($(".image-viewer").css("background-color","#0f0f0e"),$(".image-viewer").html('<video autoplay loop muted width="100%" style="margin:0 auto;position:absolute;top:50%;left:50%;-ms-transform: translate(-50%, -50%);transform: translate(-50%, -50%);">'+$(this).html()+"</video>"),$(".image-viewer").css("visibility","visible"))}))}function NumFormat(e){var t=(e+="").split("."),i=t[0],a=t.length>1?"."+t[1]:"";if(t[0].length>4)return t[0]/1e3+"K";for(var s=/(\d+)(\d{3})/;s.test(i);)i=i.replace(s,"$1,$2");return i+a}function grabDBinfo(){0==window.opt.stats.total_data&&(window.opt.stats.total_data=window.YTD.tweets.part0.length),0==window.opt.stats.total_post&&(window.opt.stats.total_post=window.YTD.tweets.part0.filter((e=>"RT @"!==e.tweet.full_text.substring(0,4)&&"@"!==e.tweet.full_text.substring(0,1))).length),0==window.opt.stats.total_retweet&&(window.opt.stats.total_retweet=window.YTD.tweets.part0.filter((e=>"RT @"==e.tweet.full_text.substring(0,4))).length),0==window.opt.stats.total_replies&&(window.opt.stats.total_replies=window.YTD.tweets.part0.filter((e=>void 0!==e.tweet.in_reply_to_user_id&&"@"==e.tweet.full_text.substring(0,1))).length),0==window.opt.stats.post_with_media&&(window.opt.stats.post_with_media=window.YTD.tweets.part0.filter((e=>"RT @"!=e.tweet.full_text.substring(0,4)&&"@"!=e.tweet.full_text.substring(0,1)&&"object"==typeof e.tweet.extended_entities)).length),0==window.opt.stats.post_text&&(window.opt.stats.post_text=window.YTD.tweets.part0.filter((e=>"RT @"!=e.tweet.full_text.substring(0,4)&&"@"!=e.tweet.full_text.substring(0,1)&&void 0===e.tweet.extended_entities)).length),0==window.opt.stats.reply_with_media&&(window.opt.stats.reply_with_media=window.YTD.tweets.part0.filter((e=>"@"==e.tweet.full_text.substring(0,1)&&"object"==typeof e.tweet.extended_entities)).length),0==window.opt.stats.reply_text&&(window.opt.stats.reply_text=window.YTD.tweets.part0.filter((e=>"@"==e.tweet.full_text.substring(0,1)&&void 0===e.tweet.extended_entities)).length),0==window.opt.stats.post_videos&&(window.opt.stats.post_videos=window.YTD.tweets.part0.filter((e=>"@"!=e.tweet.full_text.substring(0,1)&&"RT @"!=e.tweet.full_text.substring(0,4)&&"object"==typeof e.tweet.extended_entities&&e.tweet.extended_entities.media.filter((e=>"video"==e.type)).length>0)).length),0==window.opt.stats.post_images&&(window.opt.stats.post_images=window.YTD.tweets.part0.filter((e=>"@"!=e.tweet.full_text.substring(0,1)&&"RT @"!=e.tweet.full_text.substring(0,4)&&"object"==typeof e.tweet.extended_entities&&0==e.tweet.extended_entities.media.filter((e=>"video"==e.type)).length)).length),0==window.opt.stats.reply_videos&&(window.opt.stats.reply_videos=window.YTD.tweets.part0.filter((e=>"@"==e.tweet.full_text.substring(0,1)&&"RT"!=e.tweet.full_text.substring(0,2)&&void 0!==e.tweet.extended_entities&&e.tweet.extended_entities.media.filter((e=>"video"==e.type)).length>0)).length),0==window.opt.stats.reply_images&&(window.opt.stats.reply_images=window.YTD.tweets.part0.filter((e=>"@"==e.tweet.full_text.substring(0,1)&&"RT @"!=e.tweet.full_text.substring(0,4)&&void 0!==e.tweet.extended_entities&&0==e.tweet.extended_entities.media.filter((e=>"video"==e.type)).length)).length),window.YTD.retweets.part0.length>0&&window.YTD.retweets.part0.length==window.YTD.tweets.part0.filter((e=>"RT @"==e.tweet.full_text.substring(0,4))).length?(0==window.opt.stats.retweet_videos&&(window.opt.stats.retweet_videos=window.YTD.retweets.part0.filter((e=>"object"==typeof e.tweet.extended_entities&&e.tweet.extended_entities.media.filter((e=>"video"==e.type)).length>0)).length),0==window.opt.stats.retweet_images&&(window.opt.stats.retweet_images=window.YTD.retweets.part0.filter((e=>"object"==typeof e.tweet.extended_entities&&0==e.tweet.extended_entities.media.filter((e=>"video"==e.type)).length)).length),window.opt.stats.retweet_videos>0&&window.opt.stats.retweet_images>0&&(window.opt.stats.retweet_with_media=window.opt.stats.retweet_videos+window.opt.stats.retweet_images,window.opt.stats.retweet_text=window.opt.stats.total_retweet-window.opt.stats.retweet_with_media)):(0==window.opt.stats.retweet_videos&&(window.opt.stats.retweet_videos=window.YTD.tweets.part0.filter((e=>"RT @"==e.tweet.full_text.substring(0,4)&&void 0!==e.tweet.extended_entities&&e.tweet.extended_entities.media.filter((e=>"video"==e.type)).length>0)).length),0==window.opt.stats.retweet_images&&(window.opt.stats.retweet_images=window.YTD.tweets.part0.filter((e=>"RT @"==e.tweet.full_text.substring(0,4)&&void 0!==e.tweet.extended_entities&&0==e.tweet.extended_entities.media.filter((e=>"video"==e.type)).length)).length),window.opt.stats.retweet_videos>0&&window.opt.stats.retweet_images>0&&(window.opt.stats.retweet_with_media=window.opt.stats.retweet_videos+window.opt.stats.retweet_images,window.opt.stats.retweet_text=window.opt.stats.total_retweet-window.opt.stats.retweet_with_media))}function preparePosts(a=1,s=!1){1==Boolean(s)&&(resetMenuState(),$(".tab-content #nav-tweets #tweets-data").empty(),delete window.YTD.tweets.part0,delete window.YTD.like.part0),void 0===window.__THAR_CONFIG.dataTypes.tweets.files[0].fileName||"tweets"!=window.opt.active_tab&&"replies"!=window.opt.active_tab||(dir=window.opt.data_folder.split("/"),tweetJS=dir[0]+"/"+window.__THAR_CONFIG.dataTypes.tweets.files[0].fileName.substring(window.__THAR_CONFIG.dataTypes.tweets.files[0].fileName.lastIndexOf("/")+1),unloadJS(tweetJS),0==window.YTD.tweets.part0.length&&loadJS(tweetJS,(function(){window.YTD.tweets.part0.length>0&&("asc"==window.opt.data_order.toLowerCase()?(window.YTD.tweets.part0.sort(((t,i)=>{let a=t.tweet.created_at.split(" ");return dat=new Date(Date.parse(a[1]+" "+a[2]+", "+a[5]+" "+a[3])).getTime()/1e3,e=i.tweet.created_at.split(" "),dbt=new Date(Date.parse(e[1]+" "+e[2]+" "+e[5]+" "+e[3])).getTime()/1e3,dbt>dat?-1:dbt<dat?1:0})),window.YTD.retweets.part0.length>0&&window.YTD.retweets.part0.sort(((t,i)=>{let a=t.tweet.created_at.split(" ");return dat=new Date(Date.parse(a[1]+" "+a[2]+", "+a[5]+" "+a[3])).getTime()/1e3,e=i.tweet.created_at.split(" "),dbt=new Date(Date.parse(e[1]+" "+e[2]+" "+e[5]+" "+e[3])).getTime()/1e3,dbt>dat?-1:dbt<dat?1:0}))):"desc"==window.opt.data_order.toLowerCase()&&(window.YTD.tweets.part0.sort(((t,i)=>{let a=t.tweet.created_at.split(" ");return dat=new Date(Date.parse(a[1]+" "+a[2]+", "+a[5]+" "+a[3])).getTime()/1e3,e=i.tweet.created_at.split(" "),dbt=new Date(Date.parse(e[1]+" "+e[2]+" "+e[5]+" "+e[3])).getTime()/1e3,dbt>dat?1:dbt<dat?-1:0})),window.YTD.retweets.part0.length>0&&window.YTD.retweets.part0.sort(((t,i)=>{let a=t.tweet.created_at.split(" ");return dat=new Date(Date.parse(a[1]+" "+a[2]+", "+a[5]+" "+a[3])).getTime()/1e3,e=i.tweet.created_at.split(" "),dbt=new Date(Date.parse(e[1]+" "+e[2]+" "+e[5]+" "+e[3])).getTime()/1e3,dbt>dat?1:dbt<dat?-1:0}))),bottom=a*window.opt.displayPerPage-window.opt.displayPerPage,up=a*window.opt.displayPerPage,grabDBinfo(),count=0,null!=window.opt.stats.search.tweets.keyword||null!=window.opt.stats.search.replies.keyword?"tweets"==window.opt.active_tab&&null!==window.opt.stats.search.tweets.keyword&&window.opt.stats.search.tweets.active&&window.opt.search_mode?(window.opt.retweet_only?(namebased=window.YTD.tweets.part0.filter((e=>e.tweet.entities.user_mentions.filter((e=>e.name.toLowerCase().indexOf(window.opt.stats.search.tweets.keyword.toLowerCase())>-1)).length>0&&"@"!=e.tweet.full_text.substring(0,1)&&"RT @"==e.tweet.full_text.substring(0,4)&&!e.tweet.full_text.toLowerCase().includes(window.opt.stats.search.tweets.keyword.toLowerCase()))),postbased=window.YTD.tweets.part0.filter((e=>e.tweet.full_text.toLowerCase().includes(window.opt.stats.search.tweets.keyword.toLowerCase())&&"@"!=e.tweet.full_text.substring(0,1)&&"RT @"==e.tweet.full_text.substring(0,4))),urlbased=window.YTD.tweets.part0.filter((e=>e.tweet.entities.urls.filter((e=>e.expanded_url.includes(window.opt.stats.search.tweets.keyword.toLowerCase()))).length>0&&"@"!=e.tweet.full_text.substring(0,1)&&"RT @"==e.tweet.full_text.substring(0,4)))):(namebased=window.YTD.tweets.part0.filter((e=>e.tweet.entities.user_mentions.filter((e=>e.name.toLowerCase().indexOf(window.opt.stats.search.tweets.keyword.toLowerCase())>-1)).length>0&&"@"!=e.tweet.full_text.substring(0,1)&&!e.tweet.full_text.toLowerCase().includes(window.opt.stats.search.tweets.keyword.toLowerCase()))),postbased=window.YTD.tweets.part0.filter((e=>e.tweet.full_text.toLowerCase().includes(window.opt.stats.search.tweets.keyword.toLowerCase())&&"@"!=e.tweet.full_text.substring(0,1))),urlbased=window.YTD.tweets.part0.filter((e=>e.tweet.entities.urls.filter((e=>e.expanded_url.includes(window.opt.stats.search.tweets.keyword.toLowerCase()))).length>0&&"@"!=e.tweet.full_text.substring(0,1)))),window.opt.stats.search.tweets.found=namebased.length+urlbased.length+postbased.length,window.opt.stats.search.tweets.found>0?(temp="",idx=0,counter=0,namebased.forEach((e=>{postbased=postbased.filter((t=>t.tweet.id!==e.tweet.id)),urlbased=urlbased.filter((t=>t.tweet.id!==e.tweet.id)),"RT @"==e.tweet.full_text.substring(0,4)&&window.YTD.retweets.part0.length>0&&(e=window.YTD.retweets.part0.filter((t=>t.tweet.id==e.tweet.id))[0]),(window.opt.media_only&&"object"==typeof e.tweet.extended_entities||window.opt.text_only&&void 0===e.tweet.extended_entities)&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),count>=bottom&&count<up&&(temp+=appendPosts(src,e),idx++)),("object"==typeof e.tweet.extended_entities&&window.opt.text_only||void 0===e.tweet.extended_entities&&window.opt.media_only)&&count--,window.opt.media_only||window.opt.text_only||(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),count>=bottom&&count<up&&(temp+=appendPosts(src,e),idx++)),count++})),postbased.forEach((e=>{urlbased=urlbased.filter((t=>t.tweet.id!==e.tweet.id)),"RT @"==e.tweet.full_text.substring(0,4)&&window.YTD.retweets.part0.length>0&&(e=window.YTD.retweets.part0.filter((t=>t.tweet.id==e.tweet.id))[0]),(window.opt.media_only&&"object"==typeof e.tweet.extended_entities||window.opt.text_only&&void 0===e.tweet.extended_entities)&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),count>=bottom&&count<up&&(temp+=appendPosts(src,e),idx++)),("object"==typeof e.tweet.extended_entities&&window.opt.text_only||void 0===e.tweet.extended_entities&&window.opt.media_only)&&count--,window.opt.media_only||window.opt.text_only||(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),count>=bottom&&count<up&&(temp+=appendPosts(src,e),idx++)),count++})),window.opt.stats.search.tweets.found=namebased.length+urlbased.length+postbased.length,urlbased.forEach((e=>{"RT @"==e.tweet.full_text.substring(0,4)&&window.YTD.retweets.part0.length>0&&(e=window.YTD.retweets.part0.filter((t=>t.tweet.id==e.tweet.id))[0]),(window.opt.media_only&&"object"==typeof e.tweet.extended_entities||window.opt.text_only&&void 0===e.tweet.extended_entities)&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),count>=bottom&&count<up&&(temp+=appendPosts(src,e),idx++)),("object"==typeof e.tweet.extended_entities&&window.opt.text_only||void 0===e.tweet.extended_entities&&window.opt.media_only)&&count--,window.opt.media_only||window.opt.text_only||(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),count>=bottom&&count<up&&(temp+=appendPosts(src,e),idx++)),count++})),window.opt.stats.search.tweets.found=count):alert("No records found !!!")):"replies"==window.opt.active_tab&&null!==window.opt.stats.search.replies.keyword&&window.opt.stats.search.replies.active&&window.opt.search_mode&&(namebased=window.YTD.tweets.part0.filter((e=>e.tweet.entities.user_mentions.filter((e=>e.name.toLowerCase().indexOf(window.opt.stats.search.replies.keyword.toLowerCase())>-1)).length>0&&"@"==e.tweet.full_text.substring(0,1)&&!e.tweet.full_text.toLowerCase().includes(window.opt.stats.search.replies.keyword.toLowerCase()))),postbased=window.YTD.tweets.part0.filter((e=>e.tweet.full_text.toLowerCase().includes(window.opt.stats.search.replies.keyword.toLowerCase())&&"@"==e.tweet.full_text.substring(0,1))),urlbased=window.YTD.tweets.part0.filter((e=>e.tweet.entities.urls.filter((e=>e.expanded_url.includes(window.opt.stats.search.replies.keyword.toLowerCase()))).length>0&&"@"==e.tweet.full_text.substring(0,1))),window.opt.stats.search.replies.found=namebased.length+urlbased.length+postbased.length,window.opt.stats.search.replies.found>0?(temp="",idx=0,counter=0,namebased.forEach((e=>{postbased=postbased.filter((t=>t.tweet.id!==e.tweet.id)),urlbased=urlbased.filter((t=>t.tweet.id!==e.tweet.id)),(window.opt.media_only&&"object"==typeof e.tweet.extended_entities||window.opt.text_only&&void 0===e.tweet.extended_entities)&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),count>=bottom&&count<up&&(temp+=appendPosts(src,e),idx++)),("object"==typeof e.tweet.extended_entities&&window.opt.text_only||void 0===e.tweet.extended_entities&&window.opt.media_only)&&count--,window.opt.media_only||window.opt.text_only||(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),count>=bottom&&count<up&&(temp+=appendPosts(src,e),idx++)),count++})),postbased.forEach((e=>{urlbased=urlbased.filter((t=>t.tweet.id!==e.tweet.id)),(window.opt.media_only&&"object"==typeof e.tweet.extended_entities||window.opt.text_only&&void 0===e.tweet.extended_entities)&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),count>=bottom&&count<up&&(temp+=appendPosts(src,e),idx++)),("object"==typeof e.tweet.extended_entities&&window.opt.text_only||void 0===e.tweet.extended_entities&&window.opt.media_only)&&count--,window.opt.media_only||window.opt.text_only||(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),count>=bottom&&count<up&&(temp+=appendPosts(src,e),idx++)),count++})),window.opt.stats.search.replies.found=namebased.length+urlbased.length+postbased.length,urlbased.forEach((e=>{(window.opt.media_only&&"object"==typeof e.tweet.extended_entities||window.opt.text_only&&void 0===e.tweet.extended_entities)&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),count>=bottom&&count<up&&(temp+=appendPosts(src,e),idx++)),("object"==typeof e.tweet.extended_entities&&window.opt.text_only||void 0===e.tweet.extended_entities&&window.opt.media_only)&&count--,window.opt.media_only||window.opt.text_only||(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),count>=bottom&&count<up&&(temp+=appendPosts(src,e),idx++)),count++})),window.opt.stats.search.replies.found=count):alert("No records found !!!")):"tweets"!=window.opt.active_tab&&"replies"!=window.opt.active_tab||("tweets"==window.opt.active_tab?1==Boolean(window.opt.retweet_only)?1==Boolean(window.opt.media_only)?window.YTD.retweets.part0.length>0&&window.YTD.retweets.part0.length==window.YTD.tweets.part0.filter((e=>"RT @"==e.tweet.full_text.substring(0,4))).length?(temp="",idx=0,window.YTD.retweets.part0.filter((e=>void 0!==e.tweet.extended_entities)).forEach((e=>{count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),count++}))):(temp="",idx=0,window.YTD.tweets.part0.filter((e=>"RT @"==e.tweet.full_text.substring(0,4)&&void 0!==e.tweet.extended_entities)).forEach((e=>{count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),count++}))):window.opt.text_only?window.YTD.retweets.part0.length>0&&window.YTD.retweets.part0.length==window.YTD.tweets.part0.filter((e=>"RT @"==e.tweet.full_text.substring(0,4))).length&&window.YTD.retweets.part0.filter((e=>void 0===e.tweet.extended_entities)).length>0?(temp="",idx=0,window.YTD.retweets.part0.filter((e=>void 0===e.tweet.extended_entities)).forEach((e=>{count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),count++}))):(temp="",idx=0,window.YTD.tweets.part0.filter((e=>"RT @"==e.tweet.full_text.substring(0,4)&&void 0===e.tweet.extended_entities)).forEach((e=>{count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),count++}))):window.YTD.retweets.part0.length>0&&window.YTD.retweets.part0.length==window.YTD.tweets.part0.filter((e=>"RT @"==e.tweet.full_text.substring(0,4))).length?(temp="",idx=0,window.YTD.retweets.part0.forEach((e=>{count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),count++}))):(temp="",idx=0,window.YTD.tweets.part0.filter((e=>"RT @"==e.tweet.full_text.substring(0,4))).forEach((e=>{count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),count++}))):window.opt.retweet_only||(temp="",idx=0,retweetTxt=0,retweetMedia=0,window.opt.media_only?window.YTD.retweets.part0.length>0&&window.YTD.retweets.part0.length==window.YTD.tweets.part0.filter((e=>"RT @"==e.tweet.full_text.substring(0,4))).length?(window.YTD.tweets.part0.filter((e=>"@"!=e.tweet.full_text.substring(0,1)&&"object"==typeof e.tweet.extended_entities||"RT"==e.tweet.full_text.substring(0,2))).forEach((e=>{"RT @"==e.tweet.full_text.substring(0,4)&&null!=(e=1==window.YTD.retweets.part0.filter((t=>t.tweet.id==e.tweet.id&&"object"==typeof t.tweet.extended_entities)).length?window.YTD.retweets.part0.filter((t=>t.tweet.id==e.tweet.id&&"object"==typeof t.tweet.extended_entities))[0]:null)&&retweetMedia++,null!=e&&count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),null!=e&&(temp+=appendPosts(src,e)),idx++),count++})),window.opt.stats.total_post_with_media=count):window.YTD.tweets.part0.filter((e=>"@"!=e.tweet.full_text.substring(0,1)&&void 0!==e.tweet.extended_entities)).forEach((e=>{count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),count++})):window.opt.text_only?(temp="",idx=0,window.YTD.retweets.part0.length>0&&window.YTD.retweets.part0.length==window.YTD.tweets.part0.filter((e=>"RT @"==e.tweet.full_text.substring(0,4))).length?(window.YTD.tweets.part0.filter((e=>"@"!=e.tweet.full_text.substring(0,1)&&void 0===e.tweet.extended_entities)).forEach((e=>{"RT @"==e.tweet.full_text.substring(0,4)&&(null!=(e=1==window.YTD.retweets.part0.filter((t=>t.tweet.id==e.tweet.id&&void 0===t.tweet.extended_entities)).length?window.YTD.retweets.part0.filter((t=>t.tweet.id==e.tweet.id&&void 0===t.tweet.extended_entities))[0]:null)?retweetTxt++:retweetMedia++),null!=e&&count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),null!=e&&count++})),window.opt.stats.retweet_text=retweetTxt,window.opt.stats.retweet_with_media=retweetMedia):window.YTD.tweets.part0.filter((e=>"@"!=e.tweet.full_text.substring(0,1)&&void 0===e.tweet.extended_entities)).forEach((e=>{count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),count++}))):(temp="",idx=0,window.YTD.tweets.part0.filter((e=>"@"!=e.tweet.full_text.substring(0,1))).forEach((e=>{count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),count++})))):"replies"==window.opt.active_tab&&null==window.opt.stats.search.replies.keyword&&(temp="",idx=0,1==window.opt.media_only?window.YTD.tweets.part0.filter((e=>void 0!==e.tweet.in_reply_to_user_id&&"@"==e.tweet.full_text.substring(0,1)&&void 0!==e.tweet.extended_entities&&e.tweet.extended_entities.media.length>0)).forEach((e=>{count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),count++})):window.opt.text_only?window.YTD.tweets.part0.filter((e=>void 0!==e.tweet.in_reply_to_user_id&&"@"==e.tweet.full_text.substring(0,1)&&void 0===e.tweet.extended_entities)).forEach((e=>{count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),count++})):window.YTD.tweets.part0.filter((e=>void 0!==e.tweet.in_reply_to_user_id&&"@"==e.tweet.full_text.substring(0,1))).forEach((e=>{count>=bottom&&count<up&&(src=updateLinks(e),src=updateHashtagUser(src,e),src=updateMedia(src,e,idx),temp+=appendPosts(src,e),idx++),count++})))),"undefined"!=typeof temp&&temp.length>0&&("tweets"==window.opt.active_tab?($(".tab-content #nav-tweets #tweets-data").empty(),$(".tab-content #nav-tweets #tweets-data").append(temp),delete temp):"replies"==window.opt.active_tab&&($(".tab-content #nav-replies #replies-data").empty(),$(".tab-content #nav-replies #replies-data").append(temp),delete temp),setImgPrev()),setPagination(a),"visible"==$(".app-loader").css("visibility")&&$(".app-loader").css("visibility","hidden"))}))),void 0!==window.__THAR_CONFIG.dataTypes.like.files[0].fileName&&("likes"==window.opt.active_tab?(likeJS=dir[0]+"/"+window.__THAR_CONFIG.dataTypes.like.files[0].fileName.substring(window.__THAR_CONFIG.dataTypes.like.files[0].fileName.lastIndexOf("/")+1),template="",source="",unloadJS(likeJS),loadJS(likeJS,(function(e){if(e){"asc"==window.opt.data_order.toLowerCase()?(start=window.YTD.like.part0.length,end=0):"desc"==window.opt.data_order.toLowerCase()&&(start=0,end=window.YTD.like.part0.length);const e=/(https?:\/\/[^\s]+)/g;if(source="",null!=window.opt.stats.search.likes.keyword){if(m=0,window.YTD.like.part0.length>0){do{i=start,update_txt=String(window.YTD.like.part0[i].like.fullText).toLowerCase(),template=String(window.YTD.like.part0[i].like.fullText),exist=update_txt.includes(window.opt.stats.search.likes.keyword.toLowerCase()),exist&&(bottom=a*window.opt.displayPerPage-window.opt.displayPerPage,up=a*window.opt.displayPerPage,m>=bottom&&m<up&&(null!==window.YTD.like.part0[i].like.fullText.match(e)&&(t=window.YTD.like.part0[i].like.fullText.match(e),t.length>0&&t.forEach((e=>{template=template.replace(e,'<a target="_blank" href="'+e+'">'+e+"</a>").replace(/(\r\n|\r|\n)/g,"<br/>")}))),usrReg=/(\@[A-Za-z0-9\_\-]+)/g,null!==window.YTD.like.part0[i].like.fullText.match(usrReg)&&(t=window.YTD.like.part0[i].like.fullText.match(usrReg),t.length>0&&t.forEach((e=>{template=template.replace(e,'<a target="_blank" href="https://twitter.com/'+e.substring(1,e.length)+'">'+e+"</a>").replace(/(\r\n|\r|\n)/g,"<br/>")}))),usrReg=/(\#[A-Za-z0-9\_\-]+)/g,null!==window.YTD.like.part0[i].like.fullText.match(usrReg)&&(t=window.YTD.like.part0[i].like.fullText.match(usrReg),t.length>0&&t.forEach((e=>{template=template.replace(e,'<a target="_blank" href="https://twitter.com/search?q='+escape("#")+e.substring(1,e.length)+'&src=typed_query">'+e+"</a>").replace(/(\r\n|\r|\n)/g,"<br/>")}))),reg=new RegExp("(?<!23)"+window.opt.stats.search.likes.keyword+"|((?<=.+.>)"+window.opt.stats.search.likes.keyword+")(?=</a>)|(?<=#|>)(?<!%23)"+window.opt.stats.search.likes.keyword+'(?!.")|(?<=[a-zA-Z]+)'+window.opt.stats.search.likes.keyword,"ig"),template=template.replace(reg,'<b><i style=" color: '+window.opt.keywordHilite+'">'+window.opt.stats.search.likes.keyword+"</i></b>"),source+='<div class="tweet-post"><div class="col-lg-6 px-0"><div class="retweeted"><span></span></div><div class="tweet-avatar"><img id="avatar-logo"></div><div class="tweet-connector standalone"><p class="common-text tweet-post-content"><span id="likened-tweet">'+template+'</span></p><p class="tweet-post-action common-text"><ul class="post-action-btn"><li><a class="fa fa-comment-o"><span></span></a></li><li><a class="fa fa-retweet"><span></span></a></li><li><a class="fa fa-heart" style="color:red"><span></span></a></li><li class="dropdown action-btn-last like-menu"><a data-bs-toggle="dropdown" role="link" aria-expanded="false" class="fa fa-share-alt"></a><div class="dropdown-menu dropdown-menu-end"><div id="'+window.YTD.like.part0[i].like.expandedUrl+'"><a class="dropdown-item"><i class="fa fa-link"></i>Open on twitter</a></div><div id="'+window.YTD.like.part0[i].like.tweetId+'"><a class="dropdown-item"><i class="fa fa-info-circle"></i>Show tweet id</a></div></div></li></ul></p></div></div><div class="clearfix"></div></div>'),m++),0==end?start--:start++}while(start!==end);$(".tab-content #nav-like #like-data").empty(),$(".tab-content #nav-like #like-data").append(source),window.opt.stats.search.likes.found=m,$(".like-menu .dropdown-menu a").click((function(){"http"==String($(this).parent().attr("id")).substring(0,4)&&window.open($(this).parent().attr("id"))})),setPagination(a),delete window.YTD.like.part0}}else if(null==window.opt.stats.search.likes.keyword&&window.opt.stats.total_likes>0){bottom=0==end?window.YTD.like.part0.length-a*window.opt.displayPerPage:a*window.opt.displayPerPage-window.opt.displayPerPage,up=0==end?window.YTD.like.part0.length-a*window.opt.displayPerPage+window.opt.displayPerPage:a*window.opt.displayPerPage,count=0,bottom<0&&(bottom=0),up>window.YTD.like.part0.length&&(up=window.YTD.like.part0.length);do{if(i=start,start>=bottom&&start<up)if(void 0!==window.YTD.like.part0[i].like.full_name&&void 0!==window.YTD.like.part0[i].like.source_url&&void 0!==window.YTD.like.part0[i].like.media){if(template=window.YTD.like.part0[i].like.fullText,void 0!==window.YTD.like.part0[i].like.urls){for(m=0;m<window.YTD.like.part0[i].like.urls.length;m++)template=template.replace(window.YTD.like.part0[i].like.urls[m].url,'<a href="'+window.YTD.like.part0[i].like.urls[m].expanded_url+'">'+window.YTD.like.part0[i].like.urls[m].displayed_url+"</a>");if(window.YTD.like.part0[i].like.media.length>0)for(z=0;z<window.YTD.like.part0[i].like.media.length;z++)template=template.replace(window.YTD.like.part0[i].like.media[z].url,'<img id="img-prev_single" src="data/likes_media/'+window.YTD.like.part0[i].like.media[0].filename+'" />')}else if(urlReg=/https:\/\/t.co\/[a-zA-Z0-9\_\.\-]+/gim,regex=new RegExp(urlReg),t=[],t=template.match(regex),1==t.length){if(1==window.YTD.like.part0[i].like.media.length&&(template=template.replace(t[0],'<img id="img-prev_single" src="data/likes_media/'+window.YTD.like.part0[i].like.media[0].filename+'" />')),window.YTD.like.part0[i].like.media.length>1){for(img=[],z=0;z<window.YTD.like.part0[i].like.media.length;z++)1==window.YTD.like.part0[i].like.media[z].length&&(template=template.replace(window.YTD.like.part0[i].like.media[z].url,'<img id="img-prev_single" src="data/likes_media/'+window.YTD.like.part0[i].like.media[0].filename+'" />')),2==window.YTD.like.part0[i].like.media.length&&(0==z?img[img.length]='<img class="img-prev_double-1st" src="data/likes_media/'+window.YTD.like.part0[i].like.media[z].filename+'" />':img[img.length]='<img class="img-prev_double-2nd" src="data/likes_media/'+window.YTD.like.part0[i].like.media[z].filename+'" />'),3==window.YTD.like.part0[i].like.media.length&&(0==z?img[img.length]='<img class="img-prev_triple-1st" src="data/likes_media/'+window.YTD.like.part0[i].like.media[z].filename+'" />':1==z?img[img.length]='<img class="img-prev_triple-2nd" src="data/likes_media/'+window.YTD.like.part0[i].like.media[z].filename+'" />':2==z&&(img[img.length]='<img class="img-prev_triple-3rd" src="data/likes_media/'+window.YTD.like.part0[i].like.media[z].filename+'" />'));2==window.YTD.like.part0[i].like.media.length&&(template=template.replace(window.YTD.like.part0[i].like.media[0].url,'<div class="double_img-prev">'+img.join("")+"</div>")),3==window.YTD.like.part0[i].like.media.length&&(template=template.replace(window.YTD.like.part0[i].like.media[0].url,'<div class="triple_img-prev">'+img.join("")+"</div>"))}}else t.length;usrReg=/(\@[A-Za-z0-9\_\-]+)/g,null!==window.YTD.like.part0[i].like.fullText.match(usrReg)&&(t=window.YTD.like.part0[i].like.fullText.match(usrReg),t.length>0&&t.forEach((e=>{template=template.replace(e,'<a target="_blank" href="https://twitter.com/'+e.substring(1,e.length)+'">'+e+"</a>").replace(/(\r\n|\r|\n)/g,"<br/>")}))),usrReg=/(\#[A-Za-z0-9\_\-]+)/g,null!==window.YTD.like.part0[i].like.fullText.match(usrReg)&&(t=window.YTD.like.part0[i].like.fullText.match(usrReg),t.length>0&&t.forEach((e=>{template=template.replace(e,'<a target="_blank" href="https://twitter.com/search?q='+escape("#")+e.substring(1,e.length)+'&src=typed_query">'+e+"</a>").replace(/(\r\n|\r|\n)/g,"<br/>")}))),uname=window.YTD.like.part0[i].like.source_url.split("/"),post_date=new Date(Math.floor(new Date(window.YTD.like.part0[i].like.post_date).getTime())),source+='<div class="tweet-post"><div class="col-lg-6 px-0"><div class="tweet-avatar"><img id="avatar-logo"></div><div class="tweet-connector standalone"><div class="tweet-post-acc"><span style="font-weight:bold; margin-right:10px">'+(window.YTD.like.part0[i].like.full_name.length>10?window.YTD.like.part0[i].like.full_name.substring(0,9)+"...":window.YTD.like.part0[i].like.full_name)+'</span><span class="common-text greyed-text"><a class="default-link" target="_blank" href="https://twitter.com/'+uname[3]+'">@'+(uname[3].length>8?uname[3].substring(0,8)+"...":uname[3])+"</a> • "+post_date.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"})+'</span></div><p class="common-text tweet-post-content"><span id="likened-tweet">'+template+'</span></p><p class="tweet-post-action common-text"><ul class="post-action-btn"><li><a class="fa fa-comment-o"><span>'+(window.YTD.like.part0[i].like.reply_count>0?NumFormat(window.YTD.like.part0[i].like.reply_count):"")+'</span></a></li><li><a class="fa fa-retweet"><span>'+(window.YTD.like.part0[i].like.retweet_count>0?NumFormat(window.YTD.like.part0[i].like.retweet_count):"")+'</span></a></li><li><a class="fa fa-heart" style="color:red"><span>'+NumFormat(window.YTD.like.part0[i].like.like_count)+'</span></a></li><li class="dropdown action-btn-last like-menu"><a data-bs-toggle="dropdown" role="link" aria-expanded="false" class="fa fa-share-alt"></a><div class="dropdown-menu dropdown-menu-end"><div id="'+window.YTD.like.part0[i].like.source_url+'"><a class="dropdown-item"><i class="fa fa-link"></i>Open on twitter</a></div><div id="'+window.YTD.like.part0[i].like.tweetId+'"><a class="dropdown-item"><i class="fa fa-info-circle"></i>Show tweet id</a></div></div></li></ul></p></div></div><div class="clearfix"></div></div>'}else{if(template=window.YTD.like.part0[i].like.fullText,void 0!==window.YTD.like.part0[i].like.urls)for(m=0;m<window.YTD.like.part0[i].like.urls.length;m++)template=template.replace(window.YTD.like.part0[i].like.urls[m].url,'<a href="'+window.YTD.like.part0[i].like.urls[m].expanded_url+'">'+window.YTD.like.part0[i].like.urls[m].displayed_url+"</a>");else null!==window.YTD.like.part0[i].like.fullText.match(e)&&(t=window.YTD.like.part0[i].like.fullText.match(e),t.length>0&&t.forEach((e=>{template=template.replace(e,'<a target="_blank" href="'+e+'">'+e+"</a>").replace(/(\r\n|\r|\n)/g,"<br/>")})));usrReg=/(\@[A-Za-z0-9\_\-]+)/g,null!==window.YTD.like.part0[i].like.fullText.match(usrReg)&&(t=window.YTD.like.part0[i].like.fullText.match(usrReg),t.length>0&&t.forEach((e=>{template=template.replace(e,'<a target="_blank" href="https://twitter.com/'+e.substring(1,e.length)+'">'+e+"</a>").replace(/(\r\n|\r|\n)/g,"<br/>")}))),usrReg=/(\#[A-Za-z0-9\_\-]+)/g,null!==window.YTD.like.part0[i].like.fullText.match(usrReg)&&(t=window.YTD.like.part0[i].like.fullText.match(usrReg),t.length>0&&t.forEach((e=>{template=template.replace(e,'<a target="_blank" href="https://twitter.com/search?q='+escape("#")+e.substring(1,e.length)+'&src=typed_query">'+e+"</a>").replace(/(\r\n|\r|\n)/g,"<br/>")}))),source+='<div class="tweet-post"><div class="col-lg-6 px-0"><div class="retweeted"><span></span></div><div class="tweet-avatar"><img id="avatar-logo"></div><div class="tweet-connector standalone"><p class="common-text tweet-post-content"><span id="likened-tweet">'+template+'</span></p><p class="tweet-post-action common-text"><ul class="post-action-btn"><li><a class="fa fa-comment-o"><span></span></a></li><li><a class="fa fa-retweet"><span></span></a></li><li><a class="fa fa-heart" style="color:red"><span></span></a></li><li class="dropdown action-btn-last like-menu"><a data-bs-toggle="dropdown" role="link" aria-expanded="false" class="fa fa-share-alt"></a><div class="dropdown-menu dropdown-menu-end"><div id="'+window.YTD.like.part0[i].like.expandedUrl+'"><a class="dropdown-item"><i class="fa fa-link"></i>Open on twitter</a></div><div id="'+window.YTD.like.part0[i].like.tweetId+'"><a class="dropdown-item"><i class="fa fa-info-circle"></i>Show tweet id</a></div></div></li></ul></p></div></div><div class="clearfix"></div></div>'}count++,0==end?start--:end==window.YTD.like.part0.length&&start++}while(count<=window.YTD.like.part0.length);$(".tab-content #nav-like #like-data").empty(),$(".tab-content #nav-like #like-data").append(source),$(".like-menu .dropdown-menu a").click((function(){"http"==String($(this).parent().attr("id")).substring(0,4)&&window.open($(this).parent().attr("id"))})),setImgPrev(),setPagination(a),delete window.YTD.like.part0}}}))):(unloadJS(window.__THAR_CONFIG.dataTypes.like.files[0].fileName),loadJS(window.__THAR_CONFIG.dataTypes.like.files[0].fileName,(function(e){e&&(window.opt.stats.total_likes=window.YTD.like.part0.length)}))))}String.prototype.replace1st=function(e,t){return this.substring(0,this.indexOf(e))+t+this.substring(this.indexOf(e)+e.length,this.length)},window.addEventListener("orientationchange",(function(){window.opt.orientation=window.orientation}),!1),$(document).ready((function(){startLoader(),void 0!==window.__THAR_CONFIG?($("div.info .title").text(window.__THAR_CONFIG.userInfo.displayName),$("div.info .user").text("@"+window.__THAR_CONFIG.userInfo.userName),$("button.btnFollow").click((function(){location.href="https://twitter.com/intent/user?user_id="+window.__THAR_CONFIG.userInfo.accountId})),""!==window.opt.data_folder.substring(window.opt.data_folder.lastIndexOf("/")+1)&&(window.opt.data_folder=window.opt.data_folder+"/"),""!==window.opt.profile_folder.substring(window.opt.profile_folder.lastIndexOf("/")+1)&&(window.opt.profile_folder=window.opt.profile_folder+"/"),loadJS(window.__THAR_CONFIG.dataTypes.profile.files[0].fileName,(function(){window.YTD.profile.part0.length>0&&void 0!==window.YTD.profile.part0[0].profile.description.bio&&(fragments=String(window.YTD.profile.part0[0].profile.headerMediaUrl).split("/"),fileName=window.opt.profile_folder+window.__THAR_CONFIG.userInfo.accountId+"-"+fragments[fragments.length-1],FileExists(fileName+".jpg",null,(function(e,t,i){1==e?$("div.card.hovercard .cardheader").css("background-image",'url("'+fileName+'.jpg")'):FileExists(fileName+".jpeg",null,(function(e,t,i){e?$("div.card.hovercard .cardheader").css("background-image",'url("'+fileName+'.jpeg")'):FileExists(fileName+".png",null,(function(e,t,i){e?$("div.card.hovercard .cardheader").css("background-image",'url("'+fileName+'.png")'):FileExists(fileName+".webp",null,(function(e,t,i){e&&$("div.card.hovercard .cardheader").css("background-image",'url("'+fileName+'.webp")')}))}))}))})),frag=String(window.YTD.profile.part0[0].profile.avatarMediaUrl).split("/"),avaName=window.opt.profile_folder+window.__THAR_CONFIG.userInfo.accountId+"-"+frag[frag.length-1],FileExists(avaName,null,(function(e,t,i){1==e&&($("#avatar-logo").css("content",'url("'+avaName+'")'),window.opt.avatar_logo=avaName)})),$("div.info .desc").text(window.YTD.profile.part0[0].profile.description.bio),window.YTD.profile.part0[0].profile.description.website.length>0?$("ul.details li.fa-globe span").html('<a target="_blank" href="'+window.YTD.profile.part0[0].profile.description.website+'">'+window.YTD.profile.part0[0].profile.description.website.replace(/(https?|http):\/\//gi,"")+"</a>"):$("ul.details .fa-globe").remove(),window.YTD.profile.part0[0].profile.description.location.length>0?$("ul.details .fa-map-marker span").text(window.YTD.profile.part0[0].profile.description.location):$("ul.details .fa-map-marker").remove(),window.__THAR_CONFIG.dataTypes.following.files.length>0&&loadJS(window.__THAR_CONFIG.dataTypes.following.files[0].fileName,(function(){window.YTD.following.part0.length>0&&$("li.following").val(window.YTD.following.part0.length)})),window.__THAR_CONFIG.dataTypes.follower.files.length>0&&loadJS(window.__THAR_CONFIG.dataTypes.follower.files[0].fileName,(function(){window.YTD.follower.part0.length>0&&$("li.followers").val(window.YTD.follower.part0.length)})))})),loadJS(window.__THAR_CONFIG.dataTypes.account.files[0].fileName,(function(e){window.YTD.account.part0.length>0&&void 0!==window.YTD.account.part0[0].account.createdAt&&(dt=new Date(window.YTD.account.part0[0].account.createdAt.substring(0,10)),$("ul.details li.fa-calendar span").text("Joined "+dt.toLocaleString("en-US",{month:"short",year:"numeric"})))})),$(".imgdesc").css("visibility","hidden"),window.YTD.account.part0=[],preparePosts(),InitiateButton()):(alert('Required file "data/manifest.js" not found'),$(".app-loader").css("visibility","hidden"),$("div[class^=alt-left]").on("click",(function(){$(".imgdesc").show().css({visibility:"visible",opacity:0,bottom:"-100px"}).animate({opacity:"1",bottom:0},1e3)})),$(".btnplate button").click((function(){$(".imgdesc").css("visibility","hidden")}))),$(".dropdown.action-btn-last .dropdown-menu .dropdown-menu-end").on("show.bs.dropdown",(function(){$(this).css("position","inherit")})),$(".tab-content .tab-pane").css("height",$(".tab-content .tab-pane").height()+"px")}));